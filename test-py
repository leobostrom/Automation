from tabulate import tabulate
from subprocess import Popen, PIPE
import re

# Kör din get-vmsnapshots kommando
cmd = "get-vmsnapshots"  # Ersätt med ditt faktiska kommando
process = Popen(cmd, stdout=PIPE, shell=True)
stdout, _ = process.communicate()

# Läs in data från stdout
data = stdout.decode().split('\n')

# Skapa en lista av listor där varje inre lista representerar en rad i tabellen
table_data = [re.split(r'\s+', row) for row in data]

# Skriv ut tabellen med tabulate
print(tabulate(table_data, headers='firstrow', tablefmt='fancy_grid'))